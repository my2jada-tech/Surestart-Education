<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Types of Family - Interactive Workbook</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .section {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .section h3 {
            color: #764ba2;
            margin: 15px 0 10px 0;
            font-size: 1.3em;
        }

        .activity-box {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border: 2px solid #ddd;
        }

        .mcq-option {
            background: #e3f2fd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .mcq-option:hover {
            background: #bbdefb;
            transform: translateX(5px);
        }

        .mcq-option.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .mcq-option.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .feedback {
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: #c8e6c9;
            color: #2e7d32;
            border: 2px solid #4CAF50;
        }

        .feedback.incorrect {
            background: #ffcdd2;
            color: #c62828;
            border: 2px solid #f44336;
        }

        .feedback.show {
            display: block;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .drag-drop-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .drag-items {
            flex: 1;
            min-width: 250px;
        }

        .drop-zones {
            flex: 1;
            min-width: 250px;
        }

        .draggable {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 12px;
            margin: 8px 0;
            border-radius: 10px;
            cursor: move;
            border: 2px solid #ff9966;
            font-weight: bold;
            text-align: center;
        }

        .draggable:hover {
            transform: scale(1.05);
        }

        .drop-zone {
            background: #f0f0f0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 2px dashed #999;
            min-height: 50px;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            background: #e3f2fd;
            border-color: #2196F3;
        }

        .drop-zone.correct {
            background: #c8e6c9;
            border: 2px solid #4CAF50;
        }

        .drop-zone.incorrect {
            background: #ffcdd2;
            border: 2px solid #f44336;
        }

        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .match-item {
            background: #e1bee7;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .match-item:hover {
            transform: scale(1.05);
        }

        .match-item.selected {
            border-color: #9c27b0;
            background: #ce93d8;
        }

        .match-item.matched {
            background: #c8e6c9;
            border-color: #4CAF50;
            cursor: default;
        }

        .score-display {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            font-weight: bold;
        }

        .emoji {
            font-size: 2em;
            margin: 0 5px;
        }

        .true-false-btn {
            background: #e3f2fd;
            border: 2px solid #2196F3;
            color: #1565c0;
            padding: 15px 40px;
            margin: 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .true-false-btn:hover {
            background: #bbdefb;
            transform: scale(1.05);
        }

        .true-false-btn.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .true-false-btn.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .family-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border: 3px solid #ddd;
            transition: all 0.3s;
        }

        .family-card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transform: translateY(-5px);
        }

        .family-card h4 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .complete-message {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            display: none;
            margin: 20px 0;
        }

        .complete-message h2 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        .stars {
            font-size: 3em;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .matching-container {
                grid-template-columns: 1fr;
            }

            .drag-drop-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† All Types of Family üè†</h1>
            <p>Interactive Workbook for Grade 6</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0%</div>
        </div>

        <div class="score-display" id="scoreDisplay">
            <span class="emoji">üåü</span>
            Score: <span id="score">0</span> / <span id="totalQuestions">0</span>
            <span class="emoji">üåü</span>
        </div>

        <!-- SECTION 1: LEARNING CARDS -->
        <div class="section">
            <h2>üìñ Part 1: Learn About Family Types</h2>
            <p style="font-size: 1.1em; margin-bottom: 20px;">Read about each family type before starting the activities!</p>

            <div class="family-card">
                <h4>üè° Nuclear Family</h4>
                <p>A traditional family with one mum, one dad, and their children. Both parents live with the children and contribute to their upbringing.</p>
            </div>

            <div class="family-card">
                <h4>üë§ Single Parent Family</h4>
                <p>One parent (mum OR dad) raising children alone. This can happen due to divorce, being widowed, or being unmarried.</p>
            </div>

            <div class="family-card">
                <h4>ü§ù Blended Family</h4>
                <p>When one or both parents have children from previous relationships and combine to create a bigger family. Includes step-siblings and half-siblings.</p>
            </div>

            <div class="family-card">
                <h4>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Extended Family</h4>
                <p>Includes other relatives like grandparents, aunts, uncles, or cousins living in the family home. Adults work together to raise children.</p>
            </div>

            <div class="family-card">
                <h4>ü§ó Foster/Adoptive Family</h4>
                <p><strong>Foster:</strong> Provides temporary home to children<br>
                <strong>Adoptive:</strong> Provides permanent/forever home to children</p>
            </div>

            <div class="family-card">
                <h4>üåç Ethnically and Racially Diverse Family</h4>
                <p>Family members from different ethnicities or races. Example: multiracial or biracial children whose parents are from different racial backgrounds.</p>
            </div>
        </div>

        <!-- SECTION 2: DRAG AND DROP -->
        <div class="section">
            <h2>üéØ Part 2: Drag and Drop - Match Families to Descriptions</h2>
            <p style="margin-bottom: 15px;">Drag each family type to its correct description!</p>

            <div class="drag-drop-container">
                <div class="drag-items">
                    <h3>Family Types:</h3>
                    <div class="draggable" draggable="true" id="drag1">Nuclear Family</div>
                    <div class="draggable" draggable="true" id="drag2">Single Parent Family</div>
                    <div class="draggable" draggable="true" id="drag3">Blended Family</div>
                    <div class="draggable" draggable="true" id="drag4">Extended Family</div>
                    <div class="draggable" draggable="true" id="drag5">Foster Family</div>
                </div>

                <div class="drop-zones">
                    <h3>Descriptions:</h3>
                    <div class="drop-zone" data-answer="Nuclear Family">
                        <strong>1.</strong> Mum, dad, and children
                    </div>
                    <div class="drop-zone" data-answer="Extended Family">
                        <strong>2.</strong> Includes grandparents or aunts/uncles
                    </div>
                    <div class="drop-zone" data-answer="Single Parent Family">
                        <strong>3.</strong> One parent raising children alone
                    </div>
                    <div class="drop-zone" data-answer="Blended Family">
                        <strong>4.</strong> Step-siblings and half-siblings
                    </div>
                    <div class="drop-zone" data-answer="Foster Family">
                        <strong>5.</strong> Provides temporary home
                    </div>
                </div>
            </div>

            <button class="btn" onclick="checkDragDrop()">Check My Answers</button>
            <button class="btn" onclick="resetDragDrop()">Reset</button>
            <div class="feedback" id="dragDropFeedback"></div>
        </div>

        <!-- SECTION 3: MULTIPLE CHOICE -->
        <div class="section">
            <h2>üéÆ Part 3: Multiple Choice Challenge</h2>

            <div class="activity-box">
                <h3>Question 1: What is the most dominant ethnic group in Caribbean families?</h3>
                <div class="mcq-option" onclick="checkMCQ(this, 'c', 1)">A) European descent</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'c', 1)">B) Indigenous peoples</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'correct', 1)">C) African descent</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'c', 1)">D) Asian descent</div>
                <div class="feedback" id="feedback1"></div>
            </div>

            <div class="activity-box">
                <h3>Question 2: Which family type is most common in the Caribbean?</h3>
                <div class="mcq-option" onclick="checkMCQ(this, 'b', 2)">A) Nuclear Family</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'correct', 2)">B) Extended Family</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'b', 2)">C) Single Parent Family</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'b', 2)">D) Foster Family</div>
                <div class="feedback" id="feedback2"></div>
            </div>

            <div class="activity-box">
                <h3>Question 3: What is an orphanage?</h3>
                <div class="mcq-option" onclick="checkMCQ(this, 'a', 3)">A) A school for children</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'correct', 3)">B) A home for children without parents or whose parents cannot care for them</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'a', 3)">C) A hospital for sick children</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'a', 3)">D) A playground</div>
                <div class="feedback" id="feedback3"></div>
            </div>

            <div class="activity-box">
                <h3>Question 4: A child who shares ONE biological parent with their sibling is called:</h3>
                <div class="mcq-option" onclick="checkMCQ(this, 'd', 4)">A) Step-sibling</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'd', 4)">B) Cousin</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'correct', 4)">C) Half-sibling</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'd', 4)">D) Foster sibling</div>
                <div class="feedback" id="feedback4"></div>
            </div>

            <div class="activity-box">
                <h3>Question 5: Which is NOT a function of a family?</h3>
                <div class="mcq-option" onclick="checkMCQ(this, 'e', 5)">A) Providing love and emotional support</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'e', 5)">B) Teaching values and guidance</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'correct', 5)">C) Making children do all housework alone</div>
                <div class="mcq-option" onclick="checkMCQ(this, 'e', 5)">D) Meeting basic needs</div>
                <div class="feedback" id="feedback5"></div>
            </div>
        </div>

        <!-- SECTION 4: MATCHING GAME -->
        <div class="section">
            <h2>üé≤ Part 4: Matching Game - Functions of a Family</h2>
            <p style="margin-bottom: 15px;">Click on a function, then click on its matching example!</p>

            <div class="matching-container" id="matchingGame">
                <div class="match-item" data-match="1" onclick="selectMatch(this)">
                    <strong>Love & Support</strong>
                </div>
                <div class="match-item" data-match="1" onclick="selectMatch(this)">
                    Hugging you when you're sad
                </div>

                <div class="match-item" data-match="2" onclick="selectMatch(this)">
                    <strong>Protection & Safety</strong>
                </div>
                <div class="match-item" data-match="2" onclick="selectMatch(this)">
                    Providing shelter and keeping you safe
                </div>

                <div class="match-item" data-match="3" onclick="selectMatch(this)">
                    <strong>Education & Guidance</strong>
                </div>
                <div class="match-item" data-match="3" onclick="selectMatch(this)">
                    Teaching right from wrong
                </div>

                <div class="match-item" data-match="4" onclick="selectMatch(this)">
                    <strong>Basic Needs</strong>
                </div>
                <div class="match-item" data-match="4" onclick="selectMatch(this)">
                    Providing food, clothing, and home
                </div>

                <div class="match-item" data-match="5" onclick="selectMatch(this)">
                    <strong>Recreation</strong>
                </div>
                <div class="match-item" data-match="5" onclick="selectMatch(this)">
                    Family game nights and trips
                </div>

                <div class="match-item" data-match="6" onclick="selectMatch(this)">
                    <strong>Socialization</strong>
                </div>
                <div class="match-item" data-match="6" onclick="selectMatch(this)">
                    Teaching how to share and respect others
                </div>
            </div>

            <div class="feedback" id="matchingFeedback"></div>
        </div>

        <!-- SECTION 5: TRUE OR FALSE -->
        <div class="section">
            <h2>‚úÖ‚ùå Part 5: True or False</h2>

            <div class="activity-box">
                <h3>Statement 1: A family can only include people related by blood.</h3>
                <button class="true-false-btn" onclick="checkTrueFalse(this, false, 1)">TRUE</button>
                <button class="true-false-btn" onclick="checkTrueFalse(this, true, 1)">FALSE</button>
                <div class="feedback" id="tfFeedback1"></div>
            </div>

            <div class="activity-box">
                <h3>Statement 2: Foster families provide permanent homes to children.</h3>
                <button class="true-false-btn" onclick="checkTrueFalse(this, false, 2)">TRUE</button>
                <button class="true-false-btn" onclick="checkTrueFalse(this, true, 2)">FALSE</button>
                <div class="feedback" id="tfFeedback2"></div>
            </div>

            <div class="activity-box">
                <h3>Statement 3: Extended families may include grandparents living in the home.</h3>
                <button class="true-false-btn" onclick="checkTrueFalse(this, true, 3)">TRUE</button>
                <button class="true-false-btn" onclick="checkTrueFalse(this, false, 3)">FALSE</button>
                <div class="feedback" id="tfFeedback3"></div>
            </div>

            <div class="activity-box">
                <h3>Statement 4: Family traditions help keep families united and teach values.</h3>
                <button class="true-false-btn" onclick="checkTrueFalse(this, true, 4)">TRUE</button>
                <button class="true-false-btn" onclick="checkTrueFalse(this, false, 4)">FALSE</button>
                <div class="feedback" id="tfFeedback4"></div>
            </div>

            <div class="activity-box">
                <h3>Statement 5: Nuclear families are the only type of family structure in the world.</h3>
                <button class="true-false-btn" onclick="checkTrueFalse(this, false, 5)">TRUE</button>
                <button class="true-false-btn" onclick="checkTrueFalse(this, true, 5)">FALSE</button>
                <div class="feedback" id="tfFeedback5"></div>
            </div>
        </div>

        <!-- SECTION 6: FILL IN THE BLANKS -->
        <div class="section">
            <h2>‚úèÔ∏è Part 6: Fill in the Blanks</h2>
            <p style="margin-bottom: 15px;">Type the correct word in each blank!</p>

            <div class="activity-box">
                <h3>Question 1:</h3>
                <p>A <strong>___________</strong> family includes the traditional structure of mum, dad, and children.</p>
                <input type="text" class="input-field" id="blank1" placeholder="Type your answer here">
                <button class="btn" onclick="checkBlank(1, 'nuclear')">Check Answer</button>
                <div class="feedback" id="blankFeedback1"></div>
            </div>

            <div class="activity-box">
                <h3>Question 2:</h3>
                <p>Children who share one biological parent are called <strong>___________</strong>.</p>
                <input type="text" class="input-field" id="blank2" placeholder="Type your answer here">
                <button class="btn" onclick="checkBlank(2, 'half-siblings')">Check Answer</button>
                <div class="feedback" id="blankFeedback2"></div>
            </div>

            <div class="activity-box">
                <h3>Question 3:</h3>
                <p>Family <strong>___________</strong> are special customs passed down from generation to generation.</p>
                <input type="text" class="input-field" id="blank3" placeholder="Type your answer here">
                <button class="btn" onclick="checkBlank(3, 'traditions')">Check Answer</button>
                <div class="feedback" id="blankFeedback3"></div>
            </div>

            <div class="activity-box">
                <h3>Question 4:</h3>
                <p>An <strong>___________</strong> is a home for children who don't have parents to care for them.</p>
                <input type="text" class="input-field" id="blank4" placeholder="Type your answer here">
                <button class="btn" onclick="checkBlank(4, 'orphanage')">Check Answer</button>
                <div class="feedback" id="blankFeedback4"></div>
            </div>

            <div class="activity-box">
                <h3>Question 5:</h3>
                <p>An <strong>___________</strong> family includes relatives like grandparents, aunts, and uncles.</p>
                <input type="text" class="input-field" id="blank5" placeholder="Type your answer here">
                <button class="btn" onclick="checkBlank(5, 'extended')">Check Answer</button>
                <div class="feedback" id="blankFeedback5"></div>
            </div>
        </div>

        <!-- SECTION 7: SHORT ANSWER -->
        <div class="section">
            <h2>üìù Part 7: Short Answer Questions</h2>
            <p style="margin-bottom: 15px;">Write your answers in complete sentences!</p>

            <div class="activity-box">
                <h3>Question 1: List THREE reasons why families are important.</h3>
                <textarea class="input-field" id="short1" rows="4" placeholder="Write your answer here (3-5 sentences)"></textarea>
                <p style="color: #666; font-size: 0.9em; margin-top: 5px;">
                    <strong>Hint:</strong> Think about love, support, teaching, protection, and basic needs!
                </p>
            </div>

            <div class="activity-box">
                <h3>Question 2: Explain the difference between a foster family and an adoptive family.</h3>
                <textarea class="input-field" id="short2" rows="4" placeholder="Write your answer here (3-5 sentences)"></textarea>
                <p style="color: #666; font-size: 0.9em; margin-top: 5px;">
                    <strong>Hint:</strong> Think about temporary vs. permanent!
                </p>
            </div>

            <div class="activity-box">
                <h3>Question 3: Give TWO examples of family traditions.</h3>
                <textarea class="input-field" id="short3" rows="4" placeholder="Write your answer here (2-3 sentences)"></textarea>
                <p style="color: #666; font-size: 0.9em; margin-top: 5px;">
                    <strong>Hint:</strong> Think about holidays, dinners, trips, or special activities!
                </p>
            </div>

            <button class="btn" onclick="saveShortAnswers()">üíæ Save My Answers</button>
            <div class="feedback" id="shortFeedback"></div>
        </div>

        <!-- COMPLETION MESSAGE -->
        <div class="complete-message" id="completeMessage">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <h2>üéâ CONGRATULATIONS! üéâ</h2>
            <p style="font-size: 1.3em; margin: 15px 0;">You've completed the Family Structures Workbook!</p>
            <p style="font-size: 1.1em;">Great job learning about all types of families!</p>
            <div class="emoji" style="font-size: 3em; margin-top: 15px;">üèÜ</div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button class="btn" onclick="window.print()" style="font-size: 1.2em; padding: 15px 40px;">
                üñ®Ô∏è Print Your Workbook
            </button>
        </div>
    </div>

    <script>
        // Score tracking
        let score = 0;
        let totalQuestions = 0;
        let completedSections = 0;
        const totalSections = 6;

        // Drag and Drop functionality
        let draggedElement = null;

        document.querySelectorAll('.draggable').forEach(item => {
            item.addEventListener('dragstart', function(e) {
                draggedElement = this;
                this.style.opacity = '0.5';
            });

            item.addEventListener('dragend', function(e) {
                this.style.opacity = '1';
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', function(e) {
                this.classList.remove('drag-over');
            });

            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                if (draggedElement) {
                    this.appendChild(draggedElement);
                }
            });
        });

        function checkDragDrop() {
            let correct = 0;
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dropZones.forEach(zone => {
                const answer = zone.getAttribute('data-answer');
                const dragged = zone.querySelector('.draggable');
                
                if (dragged && dragged.textContent.trim() === answer) {
                    zone.classList.add('correct');
                    zone.classList.remove('incorrect');
                    correct++;
                } else if (dragged) {
                    zone.classList.add('incorrect');
                    zone.classList.remove('correct');
                } else {
                    zone.classList.remove('correct', 'incorrect');
                }
            });

            const feedback = document.getElementById('dragDropFeedback');
            if (correct === 5) {
                feedback.textContent = 'üéâ Perfect! All matches are correct! You scored 5/5!';
                feedback.className = 'feedback correct show';
                updateScore(5);
                completedSections++;
            } else {
                feedback.textContent = `You got ${correct} out of 5 correct. Try again!`;
                feedback.className = 'feedback incorrect show';
            }
            updateProgress();
        }

        function resetDragDrop() {
            const dragItems = document.querySelector('.drag-items');
            document.querySelectorAll('.draggable').forEach(item => {
                dragItems.appendChild(item);
            });
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('correct', 'incorrect');
            });
            document.getElementById('dragDropFeedback').className = 'feedback';
        }

        // Multiple Choice functionality
        const mcqAnswered = new Set();

        function checkMCQ(element, answer, questionNum) {
            if (mcqAnswered.has(questionNum)) return;

            const options = element.parentElement.querySelectorAll('.mcq-option');
            options.forEach(opt => opt.style.pointerEvents = 'none');

            const feedback = document.getElementById('feedback' + questionNum);
            
            if (answer === 'correct') {
                element.classList.add('correct');
                feedback.textContent = '‚úÖ Correct! Great job!';
                feedback.className = 'feedback correct show';
                score++;
                mcqAnswered.add(questionNum);
            } else {
                element.classList.add('incorrect');
                feedback.textContent = '‚ùå Not quite. Try reading the information again!';
                feedback.className = 'feedback incorrect show';
            }
            
            totalQuestions++;
            updateScore();
            
            if (mcqAnswered.size === 5) {
                completedSections++;
                updateProgress();
            }
        }

        // Matching Game functionality
        let selectedMatch = null;
        let matchedPairs = 0;

        function selectMatch(element) {
            if (element.classList.contains('matched')) return;

            if (!selectedMatch) {
                element.classList.add('selected');
                selectedMatch = element;
            } else {
                if (selectedMatch === element) {
                    element.classList.remove('selected');
                    selectedMatch = null;
                    return;
                }

                const match1 = selectedMatch.getAttribute('data-match');
                const match2 = element.getAttribute('data-match');

                if (match1 === match2) {
                    selectedMatch.classList.add('matched');
                    selectedMatch.classList.remove('selected');
                    element.classList.add('matched');
                    matchedPairs++;
                    score++;
                    totalQuestions++;
                    updateScore();

                    if (matchedPairs === 6) {
                        const feedback = document.getElementById('matchingFeedback');
                        feedback.textContent = 'üéâ Excellent! You matched all 6 pairs correctly!';
                        feedback.className = 'feedback correct show';
                        completedSections++;
                        updateProgress();
                    }
                } else {
                    selectedMatch.classList.remove('selected');
                    const feedback = document.getElementById('matchingFeedback');
                    feedback.textContent = '‚ùå Not a match. Try again!';
                    feedback.className = 'feedback incorrect show';
                    setTimeout(() => {
                        feedback.className = 'feedback';
                    }, 2000);
                }
                selectedMatch = null;
            }
        }

        // True/False functionality
        const tfAnswered = new Set();

        function checkTrueFalse(button, isCorrect, questionNum) {
            if (tfAnswered.has(questionNum)) return;

            const buttons = button.parentElement.querySelectorAll('.true-false-btn');
            buttons.forEach(btn => btn.style.pointerEvents = 'none');

            const feedback = document.getElementById('tfFeedback' + questionNum);

            if (isCorrect) {
                button.classList.add('correct');
                feedback.textContent = '‚úÖ Correct!';
                feedback.className = 'feedback correct show';
                score++;
                tfAnswered.add(questionNum);
            } else {
                button.classList.add('incorrect');
                feedback.textContent = '‚ùå Incorrect. Try reading the information again!';
                feedback.className = 'feedback incorrect show';
            }

            totalQuestions++;
            updateScore();

            if (tfAnswered.size === 5) {
                completedSections++;
                updateProgress();
            }
        }

        // Fill in the Blanks functionality
        const blanksAnswered = new Set();

        function checkBlank(questionNum, correctAnswer) {
            const input = document.getElementById('blank' + questionNum);
            const userAnswer = input.value.trim().toLowerCase();
            const feedback = document.getElementById('blankFeedback' + questionNum);

            if (!userAnswer) {
                feedback.textContent = '‚ö†Ô∏è Please type an answer first!';
                feedback.className = 'feedback incorrect show';
                return;
            }

            if (blanksAnswered.has(questionNum)) return;

            if (userAnswer === correctAnswer.toLowerCase()) {
                feedback.textContent = '‚úÖ Correct! "' + correctAnswer + '" is the right answer!';
                feedback.className = 'feedback correct show';
                input.style.borderColor = '#4CAF50';
                input.disabled = true;
                score++;
                blanksAnswered.add(questionNum);
            } else {
                feedback.textContent = '‚ùå Not quite. Hint: The answer starts with "' + correctAnswer.charAt(0) + '"';
                feedback.className = 'feedback incorrect show';
            }

            totalQuestions++;
            updateScore();

            if (blanksAnswered.size === 5) {
                completedSections++;
                updateProgress();
            }
        }

        // Short Answer functionality
        function saveShortAnswers() {
            const short1 = document.getElementById('short1').value.trim();
            const short2 = document.getElementById('short2').value.trim();
            const short3 = document.getElementById('short3').value.trim();
            const feedback = document.getElementById('shortFeedback');

            if (!short1 || !short2 || !short3) {
                feedback.textContent = '‚ö†Ô∏è Please answer all three questions before saving!';
                feedback.className = 'feedback incorrect show';
                return;
            }

            feedback.textContent = '‚úÖ Great work! Your answers have been saved. Remember to show these to your teacher!';
            feedback.className = 'feedback correct show';
            
            document.getElementById('short1').disabled = true;
            document.getElementById('short2').disabled = true;
            document.getElementById('short3').disabled = true;

            completedSections++;
            updateProgress();
        }

        // Score and Progress tracking
        function updateScore(points = 0) {
            if (points > 0) {
                score += points - 1; // Already incremented by 1 in the calling function
                totalQuestions += points - 1;
            }
            document.getElementById('score').textContent = score;
            document.getElementById('totalQuestions').textContent = totalQuestions;
        }

        function updateProgress() {
            const percentage = (completedSections / totalSections) * 100;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = Math.round(percentage) + '%';

            if (completedSections === totalSections) {
                document.getElementById('completeMessage').style.display = 'block';
                document.getElementById('completeMessage').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Initialize
        window.onload = function() {
            updateScore();
            console.log('Interactive Family Structures Workbook loaded! Have fun learning! üéâ');
        };
    </script>
</body>
</html>